package developer.control;

import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.view.View;
import android.widget.Button;
import android.widget.EditText;
import android.widget.RelativeLayout;
import android.widget.TextView;

import org.json.JSONException;

public class MainActivity extends AppCompatActivity {
    private Button Conectar, Arriba, Abajo, Derecha, Izquierda,Disparo;
    private TextView Name, Ip;
    private EditText Host;
    private RelativeLayout Botones;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        final Cliente client = new Cliente();

        Name = (TextView) findViewById(R.id.tvLayout);
        Conectar = (Button) findViewById(R.id.btnConectar);
        Host = (EditText) findViewById(R.id.txtHost);
        Arriba = (Button) findViewById(R.id.btnArriba);
        Abajo = (Button) findViewById(R.id.btnAbajo);
        Derecha = (Button) findViewById(R.id.btnDerecha);
        Izquierda = (Button) findViewById(R.id.btnIzquierda);
        Disparo = (Button) findViewById(R.id.btnDisparo);
        Ip = (TextView) findViewById(R.id.tvIP);
        Botones = (RelativeLayout) findViewById(R.id.lyBotones);
        Botones.setVisibility(View.INVISIBLE);

        Conectar.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                Name.setText("Conectando...");
                String host = Host.getText().toString();
                client.ClienteConect(host);
                Name.setVisibility(View.INVISIBLE);
                Ip.setVisibility(View.INVISIBLE);
                Host.setVisibility(View.INVISIBLE);
                Conectar.setVisibility(View.INVISIBLE);
                Disparo.setVisibility(View.VISIBLE);
                Botones.setVisibility(View.VISIBLE);

            }
        });

        Disparo.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                try {
                    client.enviarDatos(0);
                } catch (JSONException e) {
                    e.printStackTrace();
                }
            }
        });

        Arriba.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                try {
                    client.enviarDatos(1);
                } catch (JSONException e) {
                    e.printStackTrace();
                }
            }
        });

        Abajo.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                try {
                    client.enviarDatos(2);
                } catch (JSONException e) {
                    e.printStackTrace();
                }
            }
        });

        Derecha.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                try {
                    client.enviarDatos(3);
                } catch (JSONException e) {
                    e.printStackTrace();
                }
            }
        });

        Izquierda.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                try {
                    client.enviarDatos(4);
                } catch (JSONException e) {
                    e.printStackTrace();
                }
            }
        });
    }


}
